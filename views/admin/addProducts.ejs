<%- include('../layout/header.ejs') %>
    <%- include('../layout/adminNavbar.ejs') %>

        <div class="container my-5">

            <form method="POST" action="addProducts" enctype="multipart/form-data" onsubmit="submitForm(event)"
                id="myForm" style="display: block;z-index: 1000;">
                <div class="mb-3 ">

                    <div class="mb-3">
                        <label for="formFile" class="form-label">Add Image 1</label>
                        <input class="form-control" type="file" id="formFile" name="image1"
                            accept="image/gif ,image/png ,image/jpeg">
                    </div>


                    <div>
                        <div class="mb-3">
                            <label for="formFile" class="form-label">Add Image 2</label>
                            <input class="form-control" type="file" id="formFile" name="image2"
                                accept="image/gif ,image/png ,image/jpeg">
                        </div>


                        <div>
                            <div class="mb-3">
                                <label for="formFile" class="form-label">Add Image 3</label>
                                <input class="form-control" type="file" id="formFile" name="image3"
                                    accept="image/gif ,image/png ,image/jpeg">
                            </div>


                            <div class="mb-3">
                                <label for="formFile" class="form-label">Add Image 4</label>
                                <input class="form-control" type="file" id="formFile" name="image4"
                                    accept="image/gif ,image/png ,image/jpeg">
                            </div>


                            <div class="my-3">
                                <input type="text" class="form-control" id="exampleFormControlInput1"
                                    placeholder="Product Name" name="productName" required>
                            </div>
                            <div class="mb-3">
                                <input type="text" class="form-control" id="exampleFormControlInput1"
                                    placeholder="Price" name="price" required>
                            </div>
                            <div class="mb-3">
                                <input type="text" class="form-control" id="exampleFormControlInput1"
                                    placeholder="stock" name="stock" required>
                            </div>
                            <div class="mb-3">
                                <input type="text" class="form-control" id="exampleFormControlInput1"
                                    placeholder="Description" name="description" required>
                            </div>
                            <!-- <div class="mb-3">
                                <input type="text" class="form-control" id="exampleFormControlInput1"
                                    placeholder="Category" name="category" required>
                            </div> -->
                            <div class="mb-3">
                                <select class="form-select" name="category" aria-label="Default select example">
                                    <option selected>Category</option>
                                    <% result.forEach((object)=> { %>

                                        <option value="<%= object.category_name %>">
                                            <%= object.category_name %>
                                        </option>
                                        <% }) %>
                                </select>
                            </div>
                            <button type="submit" class="btn loginButton mt-3">Submit</button>
            </form>

        </div>
        </div>

        </div>
        <div id="loader" style="display: none;">
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
                crossorigin="anonymous"></script>
            <script>
                function submitForm(event) {
                    event.preventDefault(); // Prevent form submission

                    // Display the loader and hide the form
                    document.getElementById("loader").style.setProperty("display", "block", "important");
                    document.getElementById("myForm").style.setProperty("display", "none", "important");

                    // Simulate asynchronous form submission
                    setTimeout(function () {
                        document.getElementById("myForm").submit();
                    }, 2000);
                }

            </script>
            </body>

            </html>