<%- include('../layout/header.ejs') %>
    <%- include('../layout/adminNavbar.ejs') %>

        <div class="container my-5" id="body">
            <h3>Add Coupon</h3>
            <form method="POST" action="/admin/addCoupons" id="myForm" style="display: block;z-index: 1000;"
                onsubmit="submitForm(event)">
                <div class="mb-3 ">

                    <div class="my-3">
                        <label for="Name" class="pb-1">Coupon name</label>
                        <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="Coupon Name"
                            name="name" required>
                    </div>
                    <div class="my-3">
                        <label for="Name" class="pb-1">Coupon Code</label>
                        <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="Coupon Code"
                            name="code" required>
                    </div>
                    <div class="mb-3">
                        <label for="Name" class="pb-1">Minimum amount of purchase </label>
                        <input type="text" class="form-control" id="exampleFormControlInput1"
                            placeholder="minimum amount of purchase" name="minAmount" required>
                    </div>
                    <div class="mb-3">
                        <label for="Name" class="pb-1">Discount </label>
                        <input type="text" class="form-control" id="exampleFormControlInput1"
                            placeholder="Discount (in percentage)" name="discount" required>
                    </div>
                    <div class="mb-3">
                        <label for="Name" class="pb-1">Max discount </label>
                        <input type="text" class="form-control" id="exampleFormControlInput1"
                            placeholder="Max discount amount" name="maxDiscountAmount" required>
                    </div>
                    <div class="mb-3">
                        <label for="Name">Expiry </label>
                        <input type="date" name="expiry" placeholder="expiry" required />
                    </div>
                    <button type="submit" class="btn loginButton mt-3">Add Coupon</button>
                </div>
            </form>

        </div>
        <div id="loader" style="display: none;"></div>
        <script>
            function submitForm(event) {
                event.preventDefault(); // Prevent form submission

                // Display the loader and hide the form
                document.getElementById("loader").style.setProperty("display", "block", "important");
                document.getElementById("body").style.setProperty("display", "none", "important");

                // Simulate asynchronous form submission
                setTimeout(function () {
                    document.getElementById("myForm").submit();
                }, 1500);
            }

        </script>
        <%- include('../layout/footer.ejs') %>